% pise-notation.sty 
\ifcat a@
% The macros part
\usepackage{xifthen}

% Macros adapted from subgroup-analysis project w/ MMF
\newcommand{\EE}{\operatorname{E}}
\newcommand{\PP}{\operatorname{P}}
\newcommand{\E}[1]{\ifthenelse{\isin{(}{#1}}%
{\EE \left[#1\right]}%
{\EE \left(#1\right)}}
\renewcommand{\Pr}[1]{\ifthenelse{\isin{(}{#1}}%
{\PP \left[#1\right]}%
{\PP \left(#1\right)}}
\newcommand{\var}{\text{Var}}
\newcommand{\cov}{\text{Cov}}
\newcommand{\Var}[1]{\ifthenelse{\isin{(}{#1}}%
{\var \left[#1\right]}%
{\var \left(#1\right)}}
\newcommand{\Cov}[2][]%
{\ifthenelse{\isempty{#1}}%
{\ifthenelse{\isin{(}{#1}}%
{\cov \left[#2\right]}%
{\cov \left(#2\right) }}
{\ifthenelse{\isin{(}{#1} \OR \isin{(}{#2}}%
{\cov \left[#1, #2\right]}%
{\cov \left( #1, #2\right) }}
}
\usepackage{delimset}
\newcommand{\bkt}[2][1]{%
\ifthenelse{#1=1}{\brk{#2}}{%
\ifthenelse{#1=2}{\brk[s]{#2}}{%
\ifthenelse{#1=3}{\brk[c]{#2}}{\brk!{#2}%
} } }
}


% from elsewhere
\newcommand{\piP}[1]{\ensuremath{\pi_{ #1}}}%(\normalfont\textsc{p})
\newcommand{\tildepiP}[1]{\ensuremath{\tilde{\pi}_{#1}}}%(\normalfont\textsc{p})
%...cf. http://tex.stackexchange.com/questions/13040/small-caps-for-the-math-mode
\newcommand{\atob}[2]{#1:\,#2}

% Macros originating here

\newcommand{\pen}[1]{\ensuremath{\alpha(#1)}}
\newcommand{\fip}[2]%{#1 \mathbin{:} #2}
{\langle #1, #2\rangle_{F}}
\newcommand{\hadaprod}[2]{\left(#1 \circ #2 \right)}
\newcommand{\betatrue}[1][]{\ensuremath{\beta_{n #1}}}
\newcommand{\betastarx}[1][*]{\ensuremath{\beta^{#1}_{i}}}
\newcommand{\etastarx}[1][*]{\ensuremath{\eta^{#1}_{i}}}
\newcommand{\psiC}[1]{\ensuremath{c_{0}(#1)}}
\newcommand{\psiCi}[1]{\ensuremath{c_{1}(#1)}}
\newcommand{\psiCii}[1]{\ensuremath{c_{2}(#1)}}
\expandafter\endinput\fi

% To generate a notation cheat-sheet, do
%      $ pdflatex pise-notation.sty`
% based on David Carlisle contribution to this thread: 
% https://tex.stackexchange.com/questions/342995/maitaining-a-sty-file-with-its-own-tex-documentation 
% 

\documentclass{article}
\usepackage{amsmath}
\usepackage{pise-notation}
\newcommand{\Noti}[1]{{\tt\string#1} $\mapsto$ \ensuremath{#1}}
\newcommand{\Notiopt}[2]{{\tt\string#1\string[#2\string]} $\mapsto$ \ensuremath{#1[#2]}}
\newcommand{\Notii}[2]{ {\tt\string#1\string{#2\string}} $\mapsto$ \ensuremath{#1{#2}}}
\newcommand{\Notiii}[3]{
  {\tt\string#1\string{#2\string}\string{#3\string}} $\mapsto$ \ensuremath{#1{#2}{#3}}}

\begin{document}
\section*{Macro usage examples}

\subsection*{Notation originating in subgroups project w/  MMF}

\Notii{\E}{aB + c} ; \Notii{\E}{(aB + c)} ; \Noti{\EE}  \\

\noindent%
\Notii{\Pr}{aB + c >0 } ; \Notii{\Pr}{(aB + c) > 0} ; \Noti{\PP}  \\

\noindent%
\Notii{\Var}{aB + c} ; \Notii{\Var}{(aB + c)} ; \Noti{\var} 

\noindent%
\Notii{\bkt}{a+b}  (It takes an optional arg 1/2/3 setting the depth of
brackets; default 1).
\subsection*{Notation originating in this project}

\Notii{\pen}{b}

\Noti{\betatrue} , 
\Notiopt{\betatrue}{k}; \Noti{\betastarx}, \Notiopt{\betastarx}{!},
\Noti{\etastarx}, \Notiopt{\etastarx}{!} \\
\Notii{\psiC}{z, x, n}, \Notii{\psiC}{Z}; \Notii{\psiCi}{Z}, \Notii{\psiCii}{Z}  (common factor in $\psi$
functions, and its 1st and second derivs w.r.t. $\eta$)\\ 
\Notiii{\fip}{S}{C} (Frobenius inner product of matrices $S$ and $C$)\\
\Notiii{\hadaprod}{a}{b} (Hadamard/entrywise matrix product of matrices $a$ and $b$, i.e. $(a_{ij}b_{ij}: i,j)$.

\end{document}
